<html lang = 'en'>
    <head>
        <title>Commands</title>
        <meta charset = 'utf-8'/>
        <meta name = 'description' content = 'The command page for the discord reddit bot.'>
        <style>
            @font-face{font-family:'__local__roboto__medium__';src:url('./roboto-medium.ttf');}
            body{background:linear-gradient(180deg, #0b0b0b, black);width:100%;height:100%;overflow-x:hidden;font-family:__local__roboto__medium__, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;color:black;}
            .headertext1{font-size:100px;color:#c7c7c7;}
            .centeredtext1{text-align:center;}
            #logo1{background-color:transparent;width:10vw;height:auto;}
            .footerlink1{font-size:15px;color:#c7c7c7;}
            .centeredimage1{display:block;margin-left:auto;margin-right:auto;}
            #commandList{border:1px solid black;border-radius:0px;width:90vw;margin-left:5vw;}
            #commandList p{background-color:#212121;color:white;margin:0px;padding:10px;border:none;border-bottom:1px solid black;word-wrap:break-word;text-align:left;font-size:20px;}
            #footerimage1{width:40px;height:auto;}
        </style>
    </head>
    <body>
        <p class = 'headertext1 centeredtext1'>ADiscordBot Command List</p>
        <div id = 'commandList'>
        </div>
        <p class = 'centeredtext1' style = 'color:c7c7c7;'>
            <a href = 'https://discordapp.com/oauth2/authorize?&client_id=584105414568968203&scope=bot&permissions=8' class = 'footerlink1'>Invite Link</a>
            |
            <a href = 'https://github.com/katznboyz1/aDiscordBot' class = 'footerlink1'>Github Page</a>
            |
            <a class = 'footerlink1'>katznboyz/katznboyz1 (2019)</a>
        </p>
        <img src = './bot-profile-picture.png' class = 'centeredimage1' id = 'footerimage1'/>
    </body>
    <script>
        fetch('./commands.json', {method:'GET'}).then(function(response){return response.json();}).then(function(json) {
            commands = json['commands'];
            for (command in commands) {
                commandData = commands[command];
                element = document.createElement('p');
                workInProgress = 'Error';
                if (commandData['workInProgress'] == 0) {
                    workInProgress = 'This command is ready to be used.' 
                } else {
                    workInProgress = 'This command is a work in progress.'
                }
                element.innerHTML = `
Command: %cmnd%<br>
Description: %desc%<br>
Usage: %usag%<br>
Can be used by: %usedby%<br>
%wip%
`.replace('%cmnd%', command).replace('%desc%', commandData['description']).replace('%usag%', commandData['usage']).replace('%usedby%', commandData['availableToWhom']).replace('%wip%', workInProgress)
                document.getElementById('commandList').appendChild(element);
            }
        })
    </script>
</html>